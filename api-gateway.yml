info:
  app:
    name: api-gateway
    description: Zuul API Gateway
    version: 1.0.0-SNAPSHOT
# Define the port where the API gateway server would be running
server:
  port: 8765
  contextPath:
zuul:
  sensitive-headers: Authorization, Cookie, Set-Cookie
  ignoredServices: '*'
  routes:
    device-service:
      path: /device-service/**
      serviceId: device-service
      stripPrefix: false
    reservation-service:
      path: /reservation-service/**
      serviceId: reservation-service
      stripPrefix: false
    upload-service:
      path: /upload-service/**
      serviceId: upload-service
      stripPrefix: false
keycloak:
  enabled: true
  enable-basic-auth: false
  realm: haystack
  auth-server-url:  http://10.0.75.1:8080/auth
  ssl-required: external # no ssl is ok for demo  - do not use this in production
  public-client: true # we do not write a web-app - so no login page and redirects are necessary
  resource: api-gateway
  bearer-only: false  # authentication via accesstoken is fine
  credentials:
    secret: 6795e4e5-dbbf-465b-9eb5-0f7c5183402f
  use-resource-role-mappings: true
security:
  oauth2:
    client:
      access-token-uri: http://10.0.75.1:8080/auth/realms/haystack/protocol/openid-connect/token
      userAuthorizationUri: http://10.0.75.1:8080/auth/realms/haystack/protocol/openid-connect/auth
      clientId:
      clientSecret: 6795e4e5-dbbf-465b-9eb5-0f7c5183402f
      user-info-url: http://10.0.75.1:8080/auth/realms/haystack/protocol/openid-connect/userinfo
